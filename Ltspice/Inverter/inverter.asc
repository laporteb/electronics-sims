Version 4
SHEET 1 2916 2340
WIRE 880 352 688 352
WIRE 1072 352 880 352
WIRE 1232 352 1072 352
WIRE 1472 352 1232 352
WIRE 1696 352 1472 352
WIRE 1920 352 1696 352
WIRE 1232 384 1232 352
WIRE 688 400 688 352
WIRE 880 400 880 352
WIRE 1072 400 1072 352
WIRE 1472 400 1472 352
WIRE 1696 400 1696 352
WIRE 1920 400 1920 352
WIRE 1424 416 1392 416
WIRE 1648 416 1616 416
WIRE 1872 416 1840 416
WIRE 256 496 96 496
WIRE 480 496 336 496
WIRE 688 496 688 464
WIRE 688 496 480 496
WIRE 1472 544 1472 480
WIRE 1968 544 1472 544
WIRE 2080 544 1968 544
WIRE 2272 544 2160 544
WIRE 2448 544 2352 544
WIRE 2608 544 2528 544
WIRE 96 624 96 496
WIRE 256 624 96 624
WIRE 480 624 336 624
WIRE 880 624 880 464
WIRE 880 624 480 624
WIRE 1696 640 1696 480
WIRE 1968 640 1696 640
WIRE 2080 640 1968 640
WIRE 2272 640 2160 640
WIRE 2448 640 2352 640
WIRE 2608 640 2608 544
WIRE 2608 640 2528 640
WIRE 96 656 96 624
WIRE 96 656 32 656
WIRE 1232 672 1232 448
WIRE 32 704 32 656
WIRE 1920 752 1920 480
WIRE 1968 752 1920 752
WIRE 2080 752 1968 752
WIRE 2272 752 2160 752
WIRE 2448 752 2352 752
WIRE 2608 752 2608 640
WIRE 2608 752 2528 752
WIRE 96 768 96 656
WIRE 256 768 96 768
WIRE 480 768 336 768
WIRE 1072 768 1072 464
WIRE 1072 768 480 768
WIRE 1472 816 1472 544
WIRE 1696 816 1696 640
WIRE 1920 816 1920 752
WIRE 688 832 688 496
WIRE 880 832 880 624
WIRE 1072 832 1072 768
WIRE 1232 832 1232 672
WIRE 1424 832 1392 832
WIRE 1648 832 1616 832
WIRE 1872 832 1840 832
WIRE 688 960 688 896
WIRE 880 960 880 896
WIRE 880 960 688 960
WIRE 1072 960 1072 896
WIRE 1072 960 880 960
WIRE 1232 960 1232 896
WIRE 1232 960 1072 960
WIRE 1472 960 1472 896
WIRE 1472 960 1232 960
WIRE 1696 960 1696 896
WIRE 1696 960 1472 960
WIRE 1920 960 1920 896
WIRE 1920 960 1696 960
WIRE 1152 1168 992 1168
WIRE 992 1216 992 1168
WIRE 80 1232 80 1184
WIRE 1152 1360 992 1360
WIRE 992 1408 992 1360
WIRE 80 1472 80 1440
WIRE 1152 1568 992 1568
WIRE 992 1616 992 1568
WIRE 80 1712 80 1680
WIRE 1152 1760 992 1760
WIRE 992 1808 992 1760
WIRE 80 1952 80 1920
WIRE 1152 1952 992 1952
WIRE 992 2000 992 1952
WIRE 1152 2144 992 2144
WIRE 992 2192 992 2144
FLAG 32 704 0
FLAG 480 496 R
FLAG 480 624 S
FLAG 480 768 T
FLAG 1232 352 VBus+
FLAG 1232 672 V0
FLAG 1232 960 Vbus-
FLAG 80 1312 0
FLAG 80 1184 tri
FLAG 80 1552 0
FLAG 80 1792 0
FLAG 80 2032 0
FLAG 80 1440 MotorU
FLAG 80 1680 MotorV
FLAG 80 1920 MotorW
FLAG 992 1488 0
FLAG 992 1296 0
FLAG 1152 1360 GateS2
IOPIN 1152 1360 Out
FLAG 1152 1168 GateS1
IOPIN 1152 1168 Out
FLAG 992 1888 0
FLAG 992 1696 0
FLAG 1152 1760 GateS4
IOPIN 1152 1760 Out
FLAG 1152 1568 GateS3
IOPIN 1152 1568 Out
FLAG 992 2272 0
FLAG 992 2080 0
FLAG 1152 2144 GateS6
IOPIN 1152 2144 Out
FLAG 1152 1952 GateS5
IOPIN 1152 1952 Out
FLAG 1424 464 0
FLAG 1648 464 0
FLAG 1872 464 0
FLAG 1872 880 0
FLAG 1648 880 0
FLAG 1424 880 0
FLAG 1392 416 GateS1
FLAG 1392 832 GateS2
FLAG 1616 416 GateS3
FLAG 1616 832 GateS4
FLAG 1840 416 GateS5
FLAG 1840 832 GateS6
FLAG 1968 544 U
FLAG 1968 640 V
FLAG 1968 752 W
SYMBOL voltage 352 496 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 377 60 0 0 0)
SYMBOL voltage 352 624 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 377 60 0 0 120)
SYMBOL voltage 352 768 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 377 60 0 0 -120)
SYMBOL diode 704 464 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value VS-E5PH7506
SYMBOL diode 704 896 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value VS-E5PH7506
SYMBOL diode 896 464 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value VS-E5PH7506
SYMBOL diode 896 896 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value VS-E5PH7506
SYMBOL diode 1088 464 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value VS-E5PH7506
SYMBOL diode 1088 896 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value VS-E5PH7506
SYMBOL cap 1216 384 R0
SYMATTR InstName C1
SYMATTR Value 500µ
SYMBOL cap 1216 832 R0
SYMATTR InstName C2
SYMATTR Value 500µ
SYMBOL voltage 80 1216 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 1 0 { 1/ (f_carrier*2) } { 1/ (f_carrier*2) } 0 {1/f_carrier}
SYMBOL voltage 80 1456 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 268 70 Top 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0.5 {Amod/2} {f_motor} 0 0 0)
SYMBOL voltage 80 1696 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 281 62 Top 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value SINE(0.5 {Amod/2} {f_motor} 0 0 120)
SYMBOL voltage 80 1936 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 271 74 Top 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value SINE(0.5 {Amod/2} {f_motor} 0 0 -120)
SYMBOL bv 992 1200 R0
SYMATTR InstName B1
SYMATTR Value V=if(V(MotorU)>=V(TRI), 0, 1)
SYMBOL bv 992 1392 R0
SYMATTR InstName B2
SYMATTR Value V=if(V(MotorU)<V(TRI), 0, 1)
SYMBOL bv 992 1600 R0
SYMATTR InstName B3
SYMATTR Value V=if(V(MotorV)>=V(TRI), 0, 1)
SYMBOL bv 992 1792 R0
SYMATTR InstName B4
SYMATTR Value V=if(V(MotorV)<V(TRI), 0, 1)
SYMBOL bv 992 1984 R0
SYMATTR InstName B5
SYMATTR Value V=if(V(MotorW)>=V(TRI), 0, 1)
SYMBOL bv 992 2176 R0
SYMATTR InstName B6
SYMATTR Value V=if(V(MotorW)<V(TRI), 0, 1)
SYMBOL sw 1472 496 M180
SYMATTR InstName S1
SYMBOL sw 1472 912 M180
SYMATTR InstName S2
SYMBOL sw 1696 496 M180
SYMATTR InstName S3
SYMBOL sw 1696 912 M180
SYMATTR InstName S4
SYMBOL sw 1920 496 M180
SYMATTR InstName S5
SYMBOL sw 1920 912 M180
SYMATTR InstName S6
SYMBOL res 2176 528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {motor_R}
SYMBOL res 2176 624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {motor_R}
SYMBOL res 2176 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {motor_R}
SYMBOL ind 2256 560 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {motor_L}
SYMBOL ind 2256 656 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value {motor_L}
SYMBOL ind 2256 768 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value {motor_L}
SYMBOL voltage 2432 544 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -292 163 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value SINE(0 {motor_V} {f_motor} 0 0 0)
SYMBOL voltage 2432 640 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value SINE(0 {motor_V} {f_motor} 0 0 120)
SYMBOL voltage 2432 752 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value SINE(0 {motor_V} {f_motor} 0 0 -120)
TEXT -32 216 Left 2 !.param f_motor=47\n.param f_carrier=10K\n.param Amod=0.9\n.param motor_L=200m\n.param motor_R=500m\n.param motor_V=397
TEXT 864 296 Left 2 !.ic v(C1) = 200\n.ic v(C2) = 200
TEXT 248 256 Left 2 !.meas LINE rms (v(R) - v(S) )
TEXT 248 288 Left 2 !.meas DCLINK avg v(VBus+) - v(VBus-)
TEXT -32 1032 Left 4 ;Sine PWM Control Signals
TEXT 1328 304 Left 2 !.model SW SW(Ron=10m Roff=10Meg Vt=0.2)
TEXT 2504 440 Left 2 ;Motor
TEXT 784 152 Left 2 !.plot(v(U,V))\n.plot(v(U,W)\n.plot(v(V,W))
TEXT 248 320 Left 2 !.meas UVMax max(v(U) -v(V))\n.meas UWMax max(v(U) -v(W))\n.meas VWMax max(v(V) -v(W))
TEXT 264 216 Left 2 !.tran 0 600m 400m
RECTANGLE Normal 1456 2336 -80 1072 1
RECTANGLE Normal 2640 816 2032 464 2
