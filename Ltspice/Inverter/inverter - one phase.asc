Version 4
SHEET 1 3592 2392
WIRE 80 1232 80 1184
WIRE 1216 1344 944 1344
WIRE 1776 1344 1616 1344
WIRE 2016 1344 1776 1344
WIRE 2336 1344 2016 1344
WIRE 2656 1344 2336 1344
WIRE 1344 1360 1280 1360
WIRE 2016 1376 2016 1344
WIRE 2128 1376 2016 1376
WIRE 2336 1376 2336 1344
WIRE 2448 1376 2336 1376
WIRE 2656 1376 2656 1344
WIRE 2736 1376 2656 1376
WIRE 832 1392 736 1392
WIRE 944 1392 944 1344
WIRE 944 1392 896 1392
WIRE 1024 1392 944 1392
WIRE 1216 1392 1088 1392
WIRE 2016 1392 2016 1376
WIRE 2336 1392 2336 1376
WIRE 2656 1392 2656 1376
WIRE 1968 1408 1936 1408
WIRE 2128 1408 2128 1376
WIRE 2288 1408 2256 1408
WIRE 2448 1408 2448 1376
WIRE 2608 1408 2576 1408
WIRE 2736 1408 2736 1376
WIRE 832 1424 736 1424
WIRE 1136 1424 1088 1424
WIRE 1776 1424 1776 1344
WIRE 1136 1456 1136 1424
WIRE 1216 1456 1136 1456
WIRE 1344 1456 1280 1456
WIRE 80 1472 80 1440
WIRE 896 1488 896 1424
WIRE 1216 1488 896 1488
WIRE 2016 1488 2016 1472
WIRE 2128 1488 2128 1472
WIRE 2128 1488 2016 1488
WIRE 2336 1504 2336 1472
WIRE 2448 1504 2448 1472
WIRE 2448 1504 2336 1504
WIRE 2656 1504 2656 1472
WIRE 2736 1504 2736 1472
WIRE 2736 1504 2656 1504
WIRE 2016 1536 2016 1488
WIRE 2784 1536 2016 1536
WIRE 2864 1536 2784 1536
WIRE 3056 1536 2944 1536
WIRE 3232 1536 3136 1536
WIRE 3344 1536 3312 1536
WIRE 1616 1584 1616 1344
WIRE 1216 1632 944 1632
WIRE 2336 1632 2336 1504
WIRE 2784 1632 2336 1632
WIRE 2864 1632 2784 1632
WIRE 3056 1632 2944 1632
WIRE 3232 1632 3136 1632
WIRE 3344 1632 3344 1536
WIRE 3344 1632 3312 1632
WIRE 1344 1648 1280 1648
WIRE 832 1680 736 1680
WIRE 944 1680 944 1632
WIRE 944 1680 896 1680
WIRE 1024 1680 944 1680
WIRE 1216 1680 1088 1680
WIRE 80 1712 80 1680
WIRE 832 1712 736 1712
WIRE 1136 1712 1088 1712
WIRE 1776 1728 1776 1488
WIRE 1136 1744 1136 1712
WIRE 1216 1744 1136 1744
WIRE 1344 1744 1280 1744
WIRE 2656 1744 2656 1504
WIRE 2784 1744 2656 1744
WIRE 2864 1744 2784 1744
WIRE 3056 1744 2944 1744
WIRE 3232 1744 3136 1744
WIRE 3344 1744 3344 1632
WIRE 3344 1744 3312 1744
WIRE 896 1776 896 1712
WIRE 1216 1776 896 1776
WIRE 2016 1792 2016 1536
WIRE 2128 1792 2016 1792
WIRE 2336 1792 2336 1632
WIRE 2448 1792 2336 1792
WIRE 2656 1792 2656 1744
WIRE 2768 1792 2656 1792
WIRE 2016 1808 2016 1792
WIRE 2336 1808 2336 1792
WIRE 2656 1808 2656 1792
WIRE 1968 1824 1936 1824
WIRE 2128 1824 2128 1792
WIRE 2288 1824 2256 1824
WIRE 2448 1824 2448 1792
WIRE 2608 1824 2576 1824
WIRE 2768 1840 2768 1792
WIRE 1216 1920 944 1920
WIRE 2016 1920 2016 1888
WIRE 2128 1920 2128 1888
WIRE 2128 1920 2016 1920
WIRE 2336 1920 2336 1888
WIRE 2448 1920 2448 1888
WIRE 2448 1920 2336 1920
WIRE 2656 1920 2656 1888
WIRE 2768 1920 2768 1904
WIRE 2768 1920 2656 1920
WIRE 1344 1936 1280 1936
WIRE 80 1952 80 1920
WIRE 1616 1952 1616 1664
WIRE 1776 1952 1776 1792
WIRE 1776 1952 1616 1952
WIRE 2016 1952 2016 1920
WIRE 2016 1952 1776 1952
WIRE 2336 1952 2336 1920
WIRE 2336 1952 2016 1952
WIRE 2656 1952 2656 1920
WIRE 2656 1952 2336 1952
WIRE 832 1968 736 1968
WIRE 944 1968 944 1920
WIRE 944 1968 896 1968
WIRE 1024 1968 944 1968
WIRE 1216 1968 1088 1968
WIRE 1616 1984 1616 1952
WIRE 832 2000 736 2000
WIRE 1136 2000 1088 2000
WIRE 1136 2032 1136 2000
WIRE 1216 2032 1136 2032
WIRE 1344 2032 1280 2032
WIRE 896 2064 896 2000
WIRE 1216 2064 896 2064
FLAG 1776 1344 VBus+
FLAG 80 1312 0
FLAG 80 1184 tri
FLAG 80 1552 0
FLAG 80 1792 0
FLAG 80 2032 0
FLAG 80 1440 MotorU
FLAG 80 1680 MotorV
FLAG 80 1920 MotorW
FLAG 1968 1456 0
FLAG 2288 1456 0
FLAG 2608 1456 0
FLAG 2608 1872 0
FLAG 2288 1872 0
FLAG 1968 1872 0
FLAG 1936 1408 GateS1
FLAG 1936 1824 GateS2
FLAG 2256 1408 GateS3
FLAG 2256 1824 GateS4
FLAG 2576 1408 GateS5
FLAG 2576 1824 GateS6
FLAG 2784 1536 U
FLAG 2784 1632 V
FLAG 2784 1744 W
FLAG 1616 1984 0
FLAG 736 1392 MotorU
FLAG 736 1424 tri
FLAG 736 1680 MotorV
FLAG 736 1712 tri
FLAG 736 1968 MotorW
FLAG 736 2000 tri
FLAG 1344 1360 GateS1
FLAG 1344 1456 GateS2
FLAG 1344 1648 GateS3
FLAG 1344 1744 GateS4
FLAG 1344 1936 GateS5
FLAG 1344 2032 GateS6
SYMBOL voltage 80 1216 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 1 0 { 1/ (f_carrier*2) } { 1/ (f_carrier*2) } 0 {1/f_carrier}
SYMBOL voltage 80 1456 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 268 70 Top 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0.5 {Amod/2} {f_motor} 0 0 0)
SYMBOL voltage 80 1696 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 281 62 Top 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value SINE(0.5 {Amod/2} {f_motor} 0 0 120)
SYMBOL voltage 80 1936 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 271 74 Top 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value SINE(0.5 {Amod/2} {f_motor} 0 0 -120)
SYMBOL sw 2016 1488 M180
SYMATTR InstName S1
SYMBOL sw 2016 1904 M180
SYMATTR InstName S2
SYMBOL sw 2336 1488 M180
SYMATTR InstName S3
SYMBOL sw 2336 1904 M180
SYMATTR InstName S4
SYMBOL sw 2656 1488 M180
SYMATTR InstName S5
SYMBOL sw 2656 1904 M180
SYMATTR InstName S6
SYMBOL res 2960 1520 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {motor_R}
SYMBOL res 2960 1616 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {motor_R}
SYMBOL res 2960 1728 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {motor_R}
SYMBOL ind 3040 1552 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {motor_L}
SYMBOL ind 3040 1648 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value {motor_L}
SYMBOL ind 3040 1760 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value {motor_L}
SYMBOL voltage 3216 1536 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -292 163 VBottom 2
WINDOW 123 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value SINE(0 {motor_V} {f_motor} 0 0 0)
SYMATTR SpiceLine Rser=1m
SYMBOL voltage 3216 1632 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 Invisible 2
WINDOW 123 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value SINE(0 {motor_V} {f_motor} 0 0 120)
SYMATTR SpiceLine Rser=1m
SYMBOL voltage 3216 1744 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 Invisible 2
WINDOW 123 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value SINE(0 {motor_V} {f_motor} 0 0 -120)
SYMATTR SpiceLine Rser=1m
SYMBOL diode 2144 1472 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -72 369 Left 2
SYMATTR InstName D7
SYMATTR Value VS-E5PH7506
SYMBOL diode 2144 1888 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -71 755 Left 2
SYMATTR InstName D8
SYMATTR Value VS-E5PH7506
SYMBOL diode 2464 1888 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -71 755 Left 2
SYMATTR InstName D9
SYMATTR Value VS-E5PH7506
SYMBOL diode 2464 1472 R180
WINDOW 0 -43 1 Left 2
WINDOW 3 -67 370 Left 2
SYMATTR InstName D10
SYMATTR Value VS-E5PH7506
SYMBOL diode 2752 1472 R180
WINDOW 0 -43 1 Left 2
WINDOW 3 -69 366 Left 2
SYMATTR InstName D11
SYMATTR Value VS-E5PH7506
SYMBOL diode 2784 1904 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -45 772 Left 2
SYMATTR InstName D12
SYMATTR Value VS-E5PH7506
SYMBOL polcap 1760 1424 R0
WINDOW 3 24 56 Left 2
WINDOW 123 24 84 Left 2
SYMATTR Value 470µ
SYMATTR Value2 x4
SYMATTR InstName C1
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=400 Irms=2.42 Rser=0.1727 Lser=13.5n mfg="Würth Elektronik" pn="861011386030 WCAP-AIG8 35x35" type="Al electrolytic"
SYMBOL polcap 1760 1728 R0
WINDOW 3 24 56 Left 2
WINDOW 123 24 84 Left 2
SYMATTR Value 470µ
SYMATTR Value2 x4
SYMATTR InstName C2
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=400 Irms=2.42 Rser=0.1727 Lser=13.5n mfg="Würth Elektronik" pn="861011386030 WCAP-AIG8 35x35" type="Al electrolytic"
SYMBOL voltage 1616 1568 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=1
SYMATTR InstName V1
SYMATTR Value 670
SYMBOL Digital\\and 1056 1344 R0
WINDOW 3 -48 115 Left 2
SYMATTR Value Td=100n
SYMATTR InstName A2
SYMBOL Digital\\and 1056 1632 R0
WINDOW 3 -48 115 Left 2
SYMATTR Value Td=100n
SYMATTR InstName A6
SYMBOL Digital\\and 1248 1600 R0
SYMATTR InstName A7
SYMBOL Digital\\and 1056 1920 R0
WINDOW 3 -48 115 Left 2
SYMATTR Value Td=100n
SYMATTR InstName A10
SYMBOL Digital\\diffschmitt 832 1344 R0
SYMATTR InstName A13
SYMBOL Digital\\diffschmitt 832 1632 R0
SYMATTR InstName A1
SYMBOL Digital\\diffschmitt 832 1920 R0
SYMATTR InstName A5
SYMBOL Digital\\and 1248 1312 R0
SYMATTR InstName A3
SYMBOL Digital\\and 1248 1408 R0
SYMATTR InstName A4
SYMBOL Digital\\and 1248 1696 R0
SYMATTR InstName A8
SYMBOL Digital\\and 1248 1888 R0
SYMATTR InstName A9
SYMBOL Digital\\and 1248 1984 R0
SYMATTR InstName A11
TEXT 1528 880 Left 2 !.param f_motor=47\n.param f_carrier=10K\n.param Amod=0.9\n.param motor_L=200m\n.param motor_R=500m\n.param motor_V=397
TEXT -32 1032 Left 4 ;Sine PWM Control Signals
TEXT 1872 1296 Left 2 !.model SW SW(Ron=10m Roff=10Meg Vt=0.5 vh=-0.5)
TEXT 3288 1432 Left 2 ;Motor
TEXT 1824 904 Left 2 !.meas UVMax max(v(U) -v(V))
TEXT 1824 880 Left 2 !.tran 0 10m 0
TEXT 1600 1304 Left 2 !.ic v(Vbus+)=670
RECTANGLE Normal 1488 2368 -48 1104 1
RECTANGLE Normal 3376 1808 2816 1456 2
